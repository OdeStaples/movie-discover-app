import{I as G,f as T,g as s,h as x}from"./chunk-BEU4K5XW.js";import{$a as _,Aa as w,Ab as U,Ca as p,Da as C,Fa as m,Ga as k,Ha as g,K as u,Na as A,Pa as y,Q as v,R as h,ab as F,ca as b,ea as i,eb as q,fb as P,ja as S,na as M,nb as I,pb as W,qb as H,ra as t,rb as O,sb as E,ta as d,ub as B,va as o,wa as r,wb as D,xa as L,zb as R}from"./chunk-RRN6XL5Z.js";var n=x("movies"),a2=s(n,c=>c.selectedCategory),s2=s(n,c=>c.popularMovies),i2=s(n,c=>c.popularMoviesLoading),n2=s(n,c=>c.popularMoviesError),o2=s(n,c=>c.trendingMovies),t2=s(n,c=>c.trendingMoviesLoading),r2=s(n,c=>c.feelGoodMovies),f2=s(n,c=>c.actionMovies),m2=s(n,c=>c.mindBenderMovies),z2=s(n,c=>c.categoryMoviesLoading),M2=s(n,c=>c.categoryMoviesError),L2=s(n,c=>{switch(c.selectedCategory){case"feelGood":return c.feelGoodMovies;case"action":return c.actionMovies;case"mindBender":return c.mindBenderMovies;default:return[]}}),p2=s(n,c=>c.selectedMovie),C2=s(n,c=>c.selectedMovieLoading),d2=s(n,c=>c.selectedMovieError),g2=s(n,c=>c.similarMovies),u2=s(n,c=>c.similarMoviesLoading);var j={prefix:"far",iconName:"heart",icon:[512,512,[128153,128154,128155,128156,128420,129293,129294,129505,9829,10084,61578],"f004","M225.8 468.2l-2.5-2.3L48.1 303.2C17.4 274.7 0 234.7 0 192.8l0-3.3c0-70.4 50-130.8 119.2-144C158.6 37.9 198.9 47 231 69.6c9 6.4 17.4 13.8 25 22.3c4.2-4.8 8.7-9.2 13.5-13.3c3.7-3.2 7.5-6.2 11.5-9c0 0 0 0 0 0C313.1 47 353.4 37.9 392.8 45.4C462 58.6 512 119.1 512 189.5l0 3.3c0 41.9-17.4 81.9-48.1 110.4L288.7 465.9l-2.5 2.3c-8.2 7.6-19 11.9-30.2 11.9s-22-4.2-30.2-11.9zM239.1 145c-.4-.3-.7-.7-1-1.1l-17.8-20-.1-.1s0 0 0 0c-23.1-25.9-58-37.7-92-31.2C81.6 101.5 48 142.1 48 189.5l0 3.3c0 28.5 11.9 55.8 32.8 75.2L256 430.7 431.2 268c20.9-19.4 32.8-46.7 32.8-75.2l0-3.3c0-47.3-33.6-88-80.1-96.9c-34-6.5-69 5.4-92 31.2c0 0 0 0-.1 .1s0 0-.1 .1l-17.8 20c-.3 .4-.7 .7-1 1.1c-4.5 4.5-10.6 7-16.9 7s-12.4-2.5-16.9-7z"]};var Q=x("watchlist"),N=s(Q,c=>c.movies),N2=s(N,c=>c.length),K=c=>s(N,e=>e.some(a=>a.id===c)),b2=s(N,c=>c.map(e=>e.id));function Y(c,e){c&1&&(o(0,"div",18)(1,"div",19)(2,"span",20),m(3,"Loading..."),r()()())}function Z(c,e){if(c&1){let a=w();o(0,"div",21)(1,"div",22)(2,"button",23),p("click",function(z){v(a);let f=C();return h(f.viewDetails(z))}),L(3,"fa-icon",10),r(),o(4,"button",24),p("click",function(z){v(a);let f=C();return h(f.toggleWatchlist(z))}),L(5,"fa-icon",10),r()()()}if(c&2){let a=C();i(3),t("icon",a.faPlay),i(),d("btn-danger",a.isInWatchlist)("btn-outline-light",!a.isInWatchlist),t("title",a.isInWatchlist?"Remove from Watchlist":"Add to Watchlist"),i(),t("icon",a.isInWatchlist?a.faHeart:a.faHeartOutline)}}function $(c,e){c&1&&(o(0,"span"),m(1,", "),r())}function J(c,e){if(c&1&&(o(0,"span",27),m(1),M(2,$,2,0,"span",28),r()),c&2){let a=e.$implicit,l=e.last;i(),g(" ",a.name,""),i(),t("ngIf",!l)}}function c2(c,e){if(c&1&&(o(0,"div",25),M(1,J,3,2,"span",26),r()),c&2){let a=C();i(),t("ngForOf",a.movie.genres.slice(0,2))}}function l2(c,e){if(c&1&&(o(0,"p",29),m(1),r()),c&2){let a=C();i(),g(" ",a.getTruncatedOverview()," ")}}var V=class c{store=u(T);router=u(I);movieService=u(E);movie;showQuickActions=!0;faHeart=D;faHeartOutline=j;faStar=B;faPlay=R;faCalendar=U;imageLoaded=!1;isInWatchlist=!1;prodEnv=O.production;ngOnInit(){this.store.select(K(this.movie.id)).subscribe(e=>{this.isInWatchlist=e})}onImageLoad(){this.imageLoaded=!0}onImageError(e){this.imageLoaded=!0}viewDetails(e){e&&(e.preventDefault(),e.stopPropagation()),this.router.navigate(["/movie",this.movie.id])}toggleWatchlist(e){e.preventDefault(),e.stopPropagation(),this.store.dispatch(G({movie:this.movie}))}getMovieYear(){return this.movie.release_date?new Date(this.movie.release_date).getFullYear().toString():"Unknown"}getTruncatedOverview(){if(!this.movie.overview)return"";let e=120;return this.movie.overview.length>e?this.movie.overview.substring(0,e)+"...":this.movie.overview}getMovieImage(){return this.movieService.getImageUrl(this.movie.poster_path)}getDefaultImage(){return this.prodEnv?"/movie-discover-app/no-image.png":"/no-image.png"}static \u0275fac=function(a){return new(a||c)};static \u0275cmp=S({type:c,selectors:[["app-movie-card"]],inputs:{movie:"movie",showQuickActions:"showQuickActions"},decls:25,vars:24,consts:[[1,"movie-card","h-100"],[1,"poster-container","position-relative"],["onerror","this.src=getDefaultImage()",1,"movie-poster","w-100",3,"load","error","src","alt"],["class","loading-overlay position-absolute top-0 start-0 w-100 h-100 d-flex align-items-center justify-content-center bg-secondary",4,"ngIf"],["class","quick-actions-overlay position-absolute top-0 start-0 w-100 h-100 d-flex align-items-center justify-content-center",4,"ngIf"],[1,"rating-badge","position-absolute","top-0","end-0","m-2"],[1,"badge","bg-warning","text-dark","d-flex","align-items-center"],[1,"me-1",3,"icon"],[1,"watchlist-heart","position-absolute","top-0","start-0","m-2","d-md-none",3,"click"],[1,"btn","btn-sm",2,"background","rgba(0, 0, 0, 0.5)","border","none"],[3,"icon"],[1,"movie-info","p-3"],[1,"movie-title","mb-2",3,"title"],[1,"movie-meta","text-muted","small"],[1,"d-flex","align-items-center","mb-1"],["class","genres",4,"ngIf"],["class","movie-overview text-muted small mt-2 mb-0",4,"ngIf"],[1,"btn","btn-outline-primary","btn-sm","w-100","mt-3","d-md-none",3,"click"],[1,"loading-overlay","position-absolute","top-0","start-0","w-100","h-100","d-flex","align-items-center","justify-content-center","bg-secondary"],["role","status",1,"spinner-border","text-light"],[1,"visually-hidden"],[1,"quick-actions-overlay","position-absolute","top-0","start-0","w-100","h-100","d-flex","align-items-center","justify-content-center"],[1,"action-buttons"],["title","View Details",1,"btn","btn-primary","btn-sm","rounded-circle","me-2",3,"click"],[1,"btn","btn-outline-light","btn-sm","rounded-circle",3,"click","title"],[1,"genres"],["class","genre-tag",4,"ngFor","ngForOf"],[1,"genre-tag"],[4,"ngIf"],[1,"movie-overview","text-muted","small","mt-2","mb-0"]],template:function(a,l){a&1&&(o(0,"div",0)(1,"div",1)(2,"img",2),p("load",function(){return l.onImageLoad()})("error",function(f){return l.onImageError(f)}),r(),M(3,Y,4,0,"div",3)(4,Z,6,7,"div",4),o(5,"div",5)(6,"span",6),L(7,"fa-icon",7),m(8),A(9,"number"),r()(),o(10,"div",8),p("click",function(f){return l.toggleWatchlist(f)}),o(11,"button",9),L(12,"fa-icon",10),r()()(),o(13,"div",11)(14,"h6",12),m(15),r(),o(16,"div",13)(17,"div",14),L(18,"fa-icon",7),o(19,"span"),m(20),r()(),M(21,c2,2,1,"div",15),r(),M(22,l2,2,1,"p",16),o(23,"button",17),p("click",function(f){return l.viewDetails(f)}),m(24," View Details "),r()()()),a&2&&(d("hover-effect",l.showQuickActions),i(2),d("loaded",l.imageLoaded),t("src",l.getMovieImage(),b)("alt",l.movie.title),i(),t("ngIf",!l.imageLoaded),i(),t("ngIf",l.showQuickActions),i(3),t("icon",l.faStar),i(),g(" ",y(9,21,l.movie.vote_average,"1.1-1")," "),i(3),d("text-danger",l.isInWatchlist)("text-white",!l.isInWatchlist),i(),t("icon",l.isInWatchlist?l.faHeart:l.faHeartOutline),i(2),t("title",l.movie.title),i(),g(" ",l.movie.title," "),i(3),t("icon",l.faCalendar),i(2),k(l.getMovieYear()),i(),t("ngIf",l.movie.genres&&l.movie.genres.length>0),i(),t("ngIf",l.movie.overview))},dependencies:[P,_,F,q,H,W],styles:[".movie-card[_ngcontent-%COMP%]{background:#fff;border-radius:12px;overflow:hidden;box-shadow:0 2px 8px #0000001a;transition:all .3s ease;cursor:pointer}.movie-card.hover-effect[_ngcontent-%COMP%]:hover{transform:translateY(-8px);box-shadow:0 8px 25px #00000026}.poster-container[_ngcontent-%COMP%]{aspect-ratio:2/3;overflow:hidden;background:#f8f9fa}.movie-poster[_ngcontent-%COMP%]{height:100%;object-fit:cover;transition:opacity .3s ease;opacity:0}.movie-poster.loaded[_ngcontent-%COMP%]{opacity:1}.loading-overlay[_ngcontent-%COMP%]{background:linear-gradient(45deg,#f8f9fa,#e9ecef)}.quick-actions-overlay[_ngcontent-%COMP%]{background:#000000b3;opacity:0;transition:opacity .3s ease}.movie-card[_ngcontent-%COMP%]:hover   .quick-actions-overlay[_ngcontent-%COMP%]{opacity:1}.action-buttons[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{width:40px;height:40px;display:flex;align-items:center;justify-content:center}.rating-badge[_ngcontent-%COMP%]{-webkit-backdrop-filter:blur(4px);backdrop-filter:blur(4px)}.movie-title[_ngcontent-%COMP%]{font-weight:600;line-height:1.3;overflow:hidden;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical}.movie-overview[_ngcontent-%COMP%]{overflow:hidden;display:-webkit-box;-webkit-line-clamp:3;-webkit-box-orient:vertical;line-height:1.4}.genre-tag[_ngcontent-%COMP%]{font-size:.75rem}.watchlist-heart[_ngcontent-%COMP%]{z-index:2}@media (max-width: 768px){.movie-card[_ngcontent-%COMP%]{margin-bottom:1rem}.quick-actions-overlay[_ngcontent-%COMP%]{display:none!important}.movie-info[_ngcontent-%COMP%]{padding:1rem}.movie-title[_ngcontent-%COMP%]{font-size:.9rem}.movie-overview[_ngcontent-%COMP%]{-webkit-line-clamp:2}}@media (min-width: 769px){.watchlist-heart[_ngcontent-%COMP%]{display:none}}"]})};export{a2 as a,s2 as b,i2 as c,z2 as d,M2 as e,L2 as f,p2 as g,C2 as h,d2 as i,g2 as j,u2 as k,j as l,N as m,K as n,V as o};
