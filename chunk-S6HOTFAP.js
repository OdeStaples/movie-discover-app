import{g as J,h as X,i as Z,j as ee,k as te,l as me,n as ve,o as _e}from"./chunk-SJGQLYE3.js";import{A as q,D,E as T,I as ne,f as G,x as K}from"./chunk-ZDOCXP3N.js";import{$a as $,Aa as u,Bb as se,C as M,Ca as x,Cb as de,Da as c,Ea as C,Fa as r,Ga as f,Ha as v,Ia as R,K as b,Na as y,Oa as P,Pa as E,Q as g,Qa as S,R as p,_a as F,ab as L,ba as k,ca as h,da as A,db as z,e as O,ea as n,eb as B,fb as j,ja as V,kb as W,l as I,lb as N,na as d,nb as Y,pb as H,qb as Q,ra as l,sa as U,sb as ie,ta as w,ub as oe,va as a,vb as ae,wa as o,wb as re,xa as _,xb as le,zb as ce}from"./chunk-GRSQMLIB.js";function xe(t,i){if(t&1&&(a(0,"p",40),r(1),o()),t&2){let e=c(2);n(),v(' "',e.movie.tagline,'" ')}}function fe(t,i){if(t&1&&(a(0,"span",23),r(1),o()),t&2){let e=c(2);n(),v(" ",e.formatRuntime(e.movie.runtime)," ")}}function he(t,i){if(t&1&&(a(0,"span",41),r(1),o()),t&2){let e=c(2);n(),v(" ",e.movie.status," ")}}function ue(t,i){if(t&1&&(a(0,"span",42)(1,"a",43),_(2,"fa-icon",22),r(3," IMDb "),o()()),t&2){let e=c(2);n(),l("href","https://www.imdb.com/title/"+e.movie.imdb_id,h),n(),l("icon",e.faExternalLink)}}function be(t,i){if(t&1&&(a(0,"span",46),r(1),o()),t&2){let e=i.$implicit;n(),v(" ",e.name," ")}}function we(t,i){if(t&1&&(a(0,"div",44),d(1,be,2,1,"span",45),o()),t&2){let e=c(2);n(),l("ngForOf",e.movie.genres)}}function Me(t,i){if(t&1&&(a(0,"p",47),r(1),o()),t&2){let e=c(2);n(),v(" ",e.movie.overview," ")}}function ye(t,i){if(t&1&&(a(0,"div",60)(1,"strong"),r(2,"Budget:"),o(),r(3),o()),t&2){let e=c(3);n(3),v(" ",e.formatCurrency(e.movie.budget)," ")}}function Ce(t,i){if(t&1&&(a(0,"div",60)(1,"strong"),r(2,"Revenue:"),o(),r(3),o()),t&2){let e=c(3);n(3),v(" ",e.formatCurrency(e.movie.revenue)," ")}}function Se(t,i){if(t&1&&(a(0,"div",60)(1,"strong"),r(2,"Release Date:"),o(),r(3),o()),t&2){let e=c(3);n(3),v(" ",e.formatDate(e.movie.release_date)," ")}}function Ie(t,i){if(t&1&&(a(0,"div",60)(1,"strong"),r(2,"Runtime:"),o(),r(3),o()),t&2){let e=c(3);n(3),v(" ",e.formatRuntime(e.movie.runtime)," ")}}function Pe(t,i){if(t&1&&(a(0,"div",60)(1,"strong"),r(2,"Status:"),o(),r(3),o()),t&2){let e=c(3);n(3),v(" ",e.movie.status," ")}}function Ee(t,i){if(t&1&&(a(0,"div",60)(1,"strong"),r(2,"Original Language:"),o(),r(3),o()),t&2){let e=c(3);n(3),v(" ",e.movie.original_language.toUpperCase()," ")}}function De(t,i){if(t&1&&(a(0,"div",60)(1,"strong"),r(2,"Popularity:"),o(),r(3),y(4,"number"),o()),t&2){let e=c(3);n(3),v(" ",E(4,1,e.movie.popularity,"1.1-1")," ")}}function Te(t,i){if(t&1&&_(0,"img",66),t&2){let e=c(4);l("src",e.getCollectionPosterUrl(e.movie.belongs_to_collection.poster_path),h)("alt",e.movie.belongs_to_collection.name)}}function Oe(t,i){if(t&1&&(a(0,"div",61)(1,"h4",51),r(2,"Part of Collection"),o(),a(3,"div",62),d(4,Te,1,2,"img",63),a(5,"div")(6,"h5",64),r(7),o(),a(8,"p",65),r(9,"Movie Collection"),o()()()()),t&2){let e=c(3);n(4),l("ngIf",e.movie.belongs_to_collection.poster_path),n(3),f(e.movie.belongs_to_collection.name)}}function ke(t,i){t&1&&(a(0,"h4",51),r(1," Production Companies "),o())}function Ae(t,i){if(t&1&&_(0,"img",71),t&2){let e=c().$implicit,s=c(3);l("src",s.getCompanyLogoUrl(e.logo_path),h)("alt",e.name)}}function Ve(t,i){if(t&1&&(a(0,"div",67),d(1,Ae,1,2,"img",68),a(2,"div")(3,"span",69),r(4),o(),a(5,"small",70),r(6),o()()()),t&2){let e=i.$implicit;n(),l("ngIf",e.logo_path),n(3),f(e.name),n(2),f(e.origin_country)}}function Ue(t,i){if(t&1&&(a(0,"span",75),r(1),o()),t&2){let e=i.$implicit;n(),v(" ",e.english_name," ")}}function Re(t,i){if(t&1&&(a(0,"div",72)(1,"h5",51),r(2,"Spoken Languages"),o(),a(3,"div",73),d(4,Ue,2,1,"span",74),o()()),t&2){let e=c(3);n(4),l("ngForOf",e.movie.spoken_languages)}}function Fe(t,i){if(t&1&&(a(0,"div",48)(1,"div",49)(2,"div",50)(3,"h3",51),r(4,"Movie Details"),o(),a(5,"div",52),d(6,ye,4,1,"div",53)(7,Ce,4,1,"div",53)(8,Se,4,1,"div",53)(9,Ie,4,1,"div",53)(10,Pe,4,1,"div",53)(11,Ee,4,1,"div",53)(12,De,5,4,"div",53),o(),d(13,Oe,10,2,"div",54),o(),a(14,"div",55),d(15,ke,2,0,"h4",56),a(16,"div",57),d(17,Ve,7,3,"div",58),o(),d(18,Re,5,1,"div",59),o()()()),t&2){let e=c(2);n(6),l("ngIf",e.movie.budget),n(),l("ngIf",e.movie.revenue),n(),l("ngIf",e.movie.release_date),n(),l("ngIf",e.movie.runtime),n(),l("ngIf",e.movie.status),n(),l("ngIf",e.movie.original_language),n(),l("ngIf",e.movie.popularity),n(),l("ngIf",e.movie.belongs_to_collection),n(2),l("ngIf",e.movie.production_companies&&e.movie.production_companies.length>0),n(2),l("ngForOf",e.movie.production_companies),n(),l("ngIf",e.movie.spoken_languages&&e.movie.spoken_languages.length>0)}}function $e(t,i){if(t&1&&(a(0,"div",80)(1,"div",81)(2,"div",82),_(3,"img",83),o(),a(4,"div",84)(5,"h6",85),r(6),o(),a(7,"p",86),r(8),o()()()()),t&2){let e=i.$implicit,s=c(4);n(3),l("src",s.getPersonImageUrl(e.profile_path),h)("alt",e.name),n(3),f(e.name),n(2),v(" ",e.character," ")}}function Le(t,i){if(t&1&&(a(0,"div",49),d(1,$e,9,4,"div",79),o()),t&2){let e=c(3);n(),l("ngForOf",e.getDisplayedCast())}}function ze(t,i){t&1&&(a(0,"p",87),r(1,"No cast information available."),o())}function Be(t,i){if(t&1){let e=u();a(0,"div",88)(1,"button",89),x("click",function(){g(e);let m=c(3);return p(m.toggleShowAllCast())}),r(2),o()()}if(t&2){let e=c(3);n(2),v(" ",e.showAllCast?"Show Less":"Show All Cast ("+e.getCastMembers().length+")"," ")}}function je(t,i){if(t&1&&(a(0,"div",48)(1,"h3",76),r(2,"Cast"),o(),d(3,Le,2,1,"div",77)(4,ze,2,0,"ng-template",null,0,S)(6,Be,3,1,"div",78),o()),t&2){let e=C(5),s=c(2);n(3),l("ngIf",s.getCastMembers().length>0)("ngIfElse",e),n(3),l("ngIf",s.getCastMembers().length>12)}}function We(t,i){if(t&1&&(a(0,"div",97)(1,"div",98),_(2,"img",99),a(3,"div")(4,"h6",100),r(5),o(),a(6,"p",101),r(7),o()()()()),t&2){let e=i.$implicit,s=c(5);n(2),l("src",s.getPersonImageUrl(e.profile_path),h)("alt",e.name),n(3),f(e.name),n(2),v(" ",e.job," ")}}function Ne(t,i){if(t&1&&(a(0,"div",94)(1,"h4",95),r(2),o(),a(3,"div",49),d(4,We,8,4,"div",96),o()()),t&2){let e=i.$implicit;n(2),f(e.key),n(2),l("ngForOf",e.value)}}function Ye(t,i){if(t&1&&(a(0,"div",92),d(1,Ne,5,2,"div",93),o()),t&2){let e=i.$implicit;n(),l("ngForOf",e)}}function He(t,i){t&1&&(a(0,"div")(1,"p",87),r(2,"No crew information available."),o()())}function Qe(t,i){if(t&1&&(a(0,"div",48)(1,"h3",76),r(2,"Crew"),o(),d(3,Ye,2,1,"div",90),y(4,"keyvalue"),d(5,He,3,0,"div",91),o()),t&2){let e=c(2);n(3),l("ngIf",P(4,2,e.getCrewByDepartment())),n(2),l("ngIf",e.getCrewMembers().length===0)}}function Ge(t,i){if(t&1&&_(0,"img",115),t&2){let e=c().$implicit,s=c(4);l("src",s.getAvatarUrl(e.author_details.avatar_path),h)("alt",e.author)}}function Ke(t,i){if(t&1&&(a(0,"div",116),r(1),o()),t&2){let e=c().$implicit,s=c(4);n(),v(" ",s.getInitials(e.author)," ")}}function qe(t,i){if(t&1&&(a(0,"span",117),_(1,"fa-icon",22),r(2),o()),t&2){let e=c().$implicit,s=c(4);n(),l("icon",s.faStar),n(),v(" ",e.author_details.rating,"/10 ")}}function Je(t,i){if(t&1&&(a(0,"div",104)(1,"div",105)(2,"div",106),d(3,Ge,1,2,"img",107)(4,Ke,2,1,"div",108),o(),a(5,"div",109)(6,"h5",110),r(7),o(),a(8,"div",111),d(9,qe,3,2,"span",112),a(10,"small",87),r(11),o()()()(),a(12,"div",113),_(13,"p",114),o()()),t&2){let e=i.$implicit,s=c(4);n(3),l("ngIf",e.author_details.avatar_path),n(),l("ngIf",!e.author_details.avatar_path),n(3),f(e.author),n(2),l("ngIf",e.author_details.rating),n(2),f(s.formatReviewDate(e.created_at)),n(2),l("innerHTML",s.formatReviewContent(e.content),k)}}function Xe(t,i){if(t&1){let e=u();a(0,"div",88)(1,"button",89),x("click",function(){g(e);let m=c(4);return p(m.toggleShowAllReviews())}),r(2),o()()}if(t&2){let e=c(4);n(2),v(" ",e.showAllReviews?"Show Less":"Show All Reviews ("+e.getReviews().length+")"," ")}}function Ze(t,i){if(t&1&&(a(0,"div"),d(1,Je,14,6,"div",103)(2,Xe,3,1,"div",78),o()),t&2){let e=c(3);n(),l("ngForOf",e.getDisplayedReviews()),n(),l("ngIf",e.getReviews().length>3)}}function et(t,i){t&1&&(a(0,"p",87),r(1,"No reviews available for this movie."),o())}function tt(t,i){if(t&1&&(a(0,"div",48)(1,"h3",76),r(2,"Reviews"),o(),d(3,Ze,3,2,"div",102)(4,et,2,0,"ng-template",null,1,S),o()),t&2){let e=C(5),s=c(2);n(3),l("ngIf",s.getReviews().length>0)("ngIfElse",e)}}function it(t,i){if(t&1&&(a(0,"div",123)(1,"div",124)(2,"div",125),_(3,"iframe",126),o(),a(4,"div",127)(5,"h6",128),r(6),o(),a(7,"small",87),r(8),o()()()()),t&2){let e=i.$implicit,s=c(4);n(3),l("src",s.getVideoEmbedUrl(e.key),A)("title",e.name),n(3),f(e.name),n(2),R("",e.type," \u2022 ",s.getVideoDate(e.published_at),"")}}function nt(t,i){if(t&1){let e=u();a(0,"div",129)(1,"button",89),x("click",function(){g(e);let m=c(4);return p(m.toggleShowAllVideos())}),r(2),o()()}if(t&2){let e=c(4);n(2),v(" ",e.showAllVideos?"Show Less":"Show All Videos ("+e.getVideos().length+")"," ")}}function ot(t,i){if(t&1&&(a(0,"div",120)(1,"h4",51),r(2,"Videos & Trailers"),o(),a(3,"div",49),d(4,it,9,5,"div",121),o(),d(5,nt,3,1,"div",122),o()),t&2){let e=c(3);n(4),l("ngForOf",e.getDisplayedVideos()),n(),l("ngIf",e.getVideos().length>4)}}function at(t,i){t&1&&(a(0,"p",87),r(1,"No trailers available for this movie."),o())}function rt(t,i){if(t&1){let e=u();a(0,"div",132)(1,"div",133)(2,"img",134),x("click",function(){let m=g(e).$implicit,pe=c(4);return p(pe.openImageModal(m.file_path))}),o()()()}if(t&2){let e=i.$implicit,s=c(4);n(2),l("src",s.getImageUrl(e.file_path,"w500"),h)("alt",s.movie.title+" backdrop")}}function lt(t,i){if(t&1){let e=u();a(0,"div",129)(1,"button",89),x("click",function(){g(e);let m=c(4);return p(m.toggleShowAllImages())}),r(2),o()()}if(t&2){let e=c(4);n(2),v(" ",e.showAllImages?"Show Less":"Show All Images ("+e.getBackdrops().length+")"," ")}}function ct(t,i){if(t&1&&(a(0,"div",130)(1,"h4",51),r(2,"Images"),o(),a(3,"div",49),d(4,rt,3,2,"div",131),o(),d(5,lt,3,1,"div",122),o()),t&2){let e=c(3);n(4),l("ngForOf",e.getDisplayedBackdrops()),n(),l("ngIf",e.getBackdrops().length>6)}}function st(t,i){if(t&1&&(a(0,"div",48)(1,"h3",76),r(2,"Trailers"),o(),d(3,ot,6,2,"div",118)(4,at,2,0,"ng-template",null,2,S)(6,ct,6,2,"div",119),o()),t&2){let e=C(5),s=c(2);n(3),l("ngIf",s.getVideos().length>0)("ngIfElse",e),n(3),l("ngIf",s.getBackdrops().length>0)}}function dt(t,i){t&1&&(a(0,"div",140)(1,"div",141)(2,"span",142),r(3,"Loading similar movies..."),o()()())}function mt(t,i){if(t&1&&(a(0,"div",144),_(1,"app-movie-card",145),o()),t&2){let e=i.$implicit,s=i.index;U("animation-delay",s*100+"ms"),n(),l("movie",e)("showQuickActions",!0)}}function vt(t,i){if(t&1&&(a(0,"div",49),d(1,mt,2,4,"div",143),o()),t&2){let e=c(3);n(),l("ngForOf",e.displayedSimilarMovies)}}function _t(t,i){if(t&1){let e=u();a(0,"div",88)(1,"button",89),x("click",function(){g(e);let m=c(3);return p(m.toggleSimilarMovies())}),r(2),o()()}if(t&2){let e=c(3);n(2),v(" ",e.showAllSimilar?"Show Less":"View All Similar Movies"," ")}}function gt(t,i){if(t&1&&(a(0,"section",135)(1,"div",33)(2,"div",136)(3,"div",137)(4,"h3",51),r(5,"You May Also Like"),o(),a(6,"p",87),r(7,"Similar movies you might enjoy"),o()()(),d(8,dt,4,0,"div",138)(9,vt,2,1,"div",139)(10,_t,3,1,"div",78),o()()),t&2){let e=c(2);n(8),l("ngIf",e.similarMoviesLoading),n(),l("ngIf",!e.similarMoviesLoading),n(),l("ngIf",e.similarMovies.length>6)}}function pt(t,i){if(t&1){let e=u();a(0,"div",6)(1,"section",7)(2,"div",8),_(3,"img",9)(4,"div",10),o(),a(5,"div",11)(6,"div",12)(7,"div",13)(8,"div",14),_(9,"img",15),o()(),a(10,"div",16)(11,"div",17)(12,"h1",18),r(13),o(),d(14,xe,2,1,"p",19),a(15,"div",20)(16,"span",21),_(17,"fa-icon",22),r(18),y(19,"number"),a(20,"small"),r(21),y(22,"number"),o()(),a(23,"span",23),r(24),o(),d(25,fe,2,1,"span",24)(26,he,2,1,"span",25)(27,ue,4,2,"span",26),o(),d(28,we,2,1,"div",27)(29,Me,2,1,"p",28),a(30,"div",29)(31,"button",30),x("click",function(){g(e);let m=c();return p(m.toggleWatchlist())}),_(32,"fa-icon",31),r(33),o()()()()()()(),a(34,"section",32)(35,"div",33)(36,"ul",34)(37,"li",35)(38,"button",36),x("click",function(){g(e);let m=c();return p(m.setActiveTab("overview"))}),r(39," Overview "),o()(),a(40,"li",35)(41,"button",36),x("click",function(){g(e);let m=c();return p(m.setActiveTab("cast"))}),r(42),o()(),a(43,"li",35)(44,"button",36),x("click",function(){g(e);let m=c();return p(m.setActiveTab("crew"))}),r(45),o()(),a(46,"li",35)(47,"button",36),x("click",function(){g(e);let m=c();return p(m.setActiveTab("reviews"))}),r(48),o()(),a(49,"li",35)(50,"button",36),x("click",function(){g(e);let m=c();return p(m.setActiveTab("media"))}),r(51," Trailers "),o()()(),a(52,"div",37),d(53,Fe,19,11,"div",38)(54,je,7,3,"div",38)(55,Qe,6,4,"div",38)(56,tt,6,2,"div",38)(57,st,7,3,"div",38),o()()(),d(58,gt,11,3,"section",39),o()}if(t&2){let e=c();n(3),l("src",e.getBackdropUrl(),h)("alt",e.movie.title),n(6),l("src",e.getPosterUrl(),h)("alt",e.movie.title),n(4),f(e.movie.title),n(),l("ngIf",e.movie.tagline),n(3),l("icon",e.faStar),n(),v(" ",E(19,36,e.movie.vote_average,"1.1-1")," "),n(3),v("(",P(22,39,e.movie.vote_count)," votes)"),n(3),f(e.getMovieYear()),n(),l("ngIf",e.movie.runtime),n(),l("ngIf",e.movie.status),n(),l("ngIf",e.movie.imdb_id),n(),l("ngIf",e.movie.genres&&e.movie.genres.length>0),n(),l("ngIf",e.movie.overview),n(3),l("icon",e.isInWatchlist?e.faHeart:e.faHeartOutline),n(),v(" ",e.isInWatchlist?"Remove from Watchlist":"Add to Watchlist"," "),n(5),w("active",e.activeTab==="overview"),n(3),w("active",e.activeTab==="cast"),n(),v(" Cast (",e.getCastMembers().length,") "),n(2),w("active",e.activeTab==="crew"),n(),v(" Crew (",e.getCrewMembers().length,") "),n(2),w("active",e.activeTab==="reviews"),n(),v(" Reviews (",e.getReviews().length,") "),n(2),w("active",e.activeTab==="media"),n(3),l("ngIf",e.activeTab==="overview"),n(),l("ngIf",e.activeTab==="cast"),n(),l("ngIf",e.activeTab==="crew"),n(),l("ngIf",e.activeTab==="reviews"),n(),l("ngIf",e.activeTab==="media"),n(),l("ngIf",e.similarMovies.length>0)}}function xt(t,i){t&1&&(a(0,"div",146)(1,"div",147)(2,"div",148)(3,"span",142),r(4,"Loading movie details..."),o()(),a(5,"h4",87),r(6,"Loading Movie Details..."),o()()())}function ft(t,i){if(t&1){let e=u();a(0,"div",149)(1,"div",147)(2,"div",76),_(3,"fa-icon",150),o(),a(4,"h4",151),r(5,"Movie Not Found"),o(),a(6,"p",152),r(7," We couldn't find the movie you're looking for. "),o(),a(8,"button",153),x("click",function(){g(e);let m=c();return p(m.goBack())}),_(9,"fa-icon",31),r(10," Go Back "),o()()()}if(t&2){let e=c();n(3),l("icon",e.faExclamationTriangle),n(6),l("icon",e.faArrowLeft)}}var ge=class t{store=b(G);route=b(N);router=b(Y);location=b(F);sanitizer=b(W);movieService=b(ie);destroy$=new O;faStar=oe;faHeart=re;faHeartOutline=me;faShare=de;faExclamationTriangle=se;faArrowLeft=le;faPlay=ce;faExternalLink=ae;movie=null;loading=!1;error=!1;movieId=null;activeTab="overview";isInWatchlist=!1;showTrailer=!1;showAllCast=!1;showAllReviews=!1;showAllVideos=!1;showAllImages=!1;similarMovies=[];similarMoviesLoading=!1;showAllSimilar=!1;selectedMovie$=this.store.select(J);selectedMovieLoading$=this.store.select(X);selectedMovieError$=this.store.select(Z);similarMovies$=this.store.select(ee);similarMoviesLoading$=this.store.select(te);ngOnInit(){this.route.params.pipe(M(this.destroy$)).subscribe(i=>{let e=+i.id;e&&!isNaN(e)?(this.movieId=e,this.loadMovieDetails(e),this.loadSimilarMovies(e)):this.error=!0}),I([this.selectedMovie$,this.selectedMovieLoading$,this.selectedMovieError$]).pipe(M(this.destroy$)).subscribe(([i,e,s])=>{this.movie=i,this.loading=e,this.error=!!s,i&&this.store.select(ve(i.id)).pipe(M(this.destroy$)).subscribe(m=>{this.isInWatchlist=m})}),I([this.similarMovies$,this.similarMoviesLoading$]).pipe(M(this.destroy$)).subscribe(([i,e])=>{this.similarMovies=i,this.similarMoviesLoading=e})}loadMovieDetails(i){this.store.dispatch(D()),this.store.dispatch(K({movieId:i}))}loadSimilarMovies(i){this.store.dispatch(T()),this.store.dispatch(q({movieId:i}))}setActiveTab(i){this.activeTab=i}toggleWatchlist(){this.movie&&this.store.dispatch(ne({movie:this.movie}))}toggleSimilarMovies(){this.showAllSimilar=!this.showAllSimilar}toggleShowAllCast(){this.showAllCast=!this.showAllCast}toggleShowAllReviews(){this.showAllReviews=!this.showAllReviews}toggleShowAllVideos(){this.showAllVideos=!this.showAllVideos}toggleShowAllImages(){this.showAllImages=!this.showAllImages}openImageModal(i){let e=this.getImageUrl(i,"original");window.open(e,"_blank")}goBack(){this.location.back()}get displayedSimilarMovies(){return this.showAllSimilar?this.similarMovies:this.similarMovies.slice(0,6)}getCastMembers(){return this.movie?.credits?.cast||[]}getCrewMembers(){return this.movie?.credits?.crew||[]}getDisplayedCast(){let i=this.getCastMembers();return this.showAllCast?i:i.slice(0,12)}getCrewByDepartment(){return this.getCrewMembers().reduce((e,s)=>{let m=s.department||"Other";return e[m]||(e[m]=[]),e[m].push(s),e},{})}getReviews(){return this.movie?.reviews?.results||[]}getDisplayedReviews(){let i=this.getReviews();return this.showAllReviews?i:i.slice(0,3)}getVideos(){return this.movie?.videos?.results||[]}getDisplayedVideos(){let i=this.getVideos();return this.showAllVideos?i:i.slice(0,4)}getBackdrops(){return this.movie?.images?.backdrops||[]}getDisplayedBackdrops(){let i=this.getBackdrops();return this.showAllImages?i:i.slice(0,6)}getOfficialTrailer(){let i=this.getVideos();return i.find(e=>e.type==="Trailer"&&e.site==="YouTube"&&e.official)||i.find(e=>e.type==="Trailer"&&e.site==="YouTube")}getMovieYear(){return this.movie?.release_date?new Date(this.movie.release_date).getFullYear().toString():"Unknown"}getPosterUrl(){return this.movieService.getImageUrl(this.movie?.poster_path||"","w500")}getBackdropUrl(){return this.movieService.getBackdropUrl(this.movie?.backdrop_path||"")}getCompanyLogoUrl(i){return this.movieService.getImageUrl(i,"w200")}getCollectionPosterUrl(i){return this.movieService.getImageUrl(i,"w200")}getPersonImageUrl(i){return i?this.movieService.getImageUrl(i,"w200"):"/movie-discover-app/no-image.png"}getImageUrl(i,e="w500"){return this.movieService.getImageUrl(i,e)}getAvatarUrl(i){return i.startsWith("/https://")?i.substring(1):this.movieService.getImageUrl(i,"w200")}getTrailerEmbedUrl(){let i=this.getOfficialTrailer();if(i){let e=`https://www.youtube.com/embed/${i.key}?autoplay=1`;return this.sanitizer.bypassSecurityTrustResourceUrl(e)}return""}getVideoEmbedUrl(i){let e=`https://www.youtube.com/embed/${i}`;return this.sanitizer.bypassSecurityTrustResourceUrl(e)}formatRuntime(i){let e=Math.floor(i/60),s=i%60;return e>0?`${e}h ${s}m`:`${s}m`}formatCurrency(i){return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:0}).format(i)}formatDate(i){return new Date(i).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})}formatReviewDate(i){return new Date(i).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})}getVideoDate(i){return new Date(i).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})}getInitials(i){return i.split(" ").map(e=>e.charAt(0)).join("").toUpperCase().substring(0,2)}formatReviewContent(i){return i.replace(/\n/g,"<br>")}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete(),this.store.dispatch(D()),this.store.dispatch(T())}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=V({type:t,selectors:[["app-movie-detail"]],decls:3,vars:3,consts:[["noCast",""],["noReviews",""],["noTrailers",""],["class","movie-detail-container",4,"ngIf"],["class","loading-container d-flex align-items-center justify-content-center min-vh-100",4,"ngIf"],["class","error-container d-flex align-items-center justify-content-center min-vh-100",4,"ngIf"],[1,"movie-detail-container"],[1,"movie-hero","position-relative"],[1,"backdrop-container"],["onerror","this.style.display='none'",1,"backdrop-image","w-100",3,"src","alt"],[1,"backdrop-overlay"],[1,"container","position-relative"],[1,"row","align-items-center","min-vh-50"],[1,"col-lg-4","col-md-5"],[1,"poster-container"],["onerror","this.src='/movie-discover-app/no-image.png'",1,"movie-poster","rounded","shadow-lg",3,"src","alt"],[1,"col-lg-8","col-md-7"],[1,"movie-info","text-white","p-4"],[1,"movie-title","mb-3"],["class","tagline text-warning mb-3 fst-italic",4,"ngIf"],[1,"movie-meta","d-flex","flex-wrap","align-items-center","mb-3"],[1,"badge","bg-warning","text-dark","me-3","fs-6"],[1,"me-1",3,"icon"],[1,"text-light","me-3"],["class","text-light me-3",4,"ngIf"],["class","badge bg-secondary me-2",4,"ngIf"],["class","me-3",4,"ngIf"],["class","genres mb-3",4,"ngIf"],["class","movie-overview lead mb-4",4,"ngIf"],[1,"action-buttons","d-flex","flex-wrap","gap-3"],[1,"btn","btn-primary","btn-lg",3,"click"],[1,"me-2",3,"icon"],[1,"movie-details","bg-light","py-5"],[1,"container"],["id","movieTabs","role","tablist",1,"nav","nav-tabs","mb-4"],["role","presentation",1,"nav-item"],["type","button",1,"nav-link",3,"click"],[1,"tab-content"],["class","tab-pane fade show active",4,"ngIf"],["class","similar-movies py-5 bg-white",4,"ngIf"],[1,"tagline","text-warning","mb-3","fst-italic"],[1,"badge","bg-secondary","me-2"],[1,"me-3"],["target","_blank",1,"text-warning","text-decoration-none",3,"href"],[1,"genres","mb-3"],["class","badge border me-2 mb-2",4,"ngFor","ngForOf"],[1,"badge","border","me-2","mb-2"],[1,"movie-overview","lead","mb-4"],[1,"tab-pane","fade","show","active"],[1,"row"],[1,"col-md-8"],[1,"mb-3"],[1,"movie-details-grid"],["class","detail-item",4,"ngIf"],["class","collection-info mt-4",4,"ngIf"],[1,"col-md-4"],["class","mb-3",4,"ngIf"],[1,"production-companies"],["class","company-item d-flex align-items-center mb-3 p-2 bg-white rounded",4,"ngFor","ngForOf"],["class","mt-4",4,"ngIf"],[1,"detail-item"],[1,"collection-info","mt-4"],[1,"collection-card","d-flex","align-items-center","p-3","bg-white","rounded","shadow-sm"],["class","collection-poster me-3",3,"src","alt",4,"ngIf"],[1,"mb-1"],[1,"text-muted","mb-0"],[1,"collection-poster","me-3",3,"src","alt"],[1,"company-item","d-flex","align-items-center","mb-3","p-2","bg-white","rounded"],["class","company-logo me-3","onerror","this.style.display='none'",3,"src","alt",4,"ngIf"],[1,"fw-medium"],[1,"text-muted","d-block"],["onerror","this.style.display='none'",1,"company-logo","me-3",3,"src","alt"],[1,"mt-4"],[1,"languages"],["class","badge bg-secondary me-2 mb-2",4,"ngFor","ngForOf"],[1,"badge","bg-secondary","me-2","mb-2"],[1,"mb-4"],["class","row",4,"ngIf","ngIfElse"],["class","text-center mt-4",4,"ngIf"],["class","col-xl-3 col-lg-4 col-md-6 col-12 mb-4",4,"ngFor","ngForOf"],[1,"col-xl-3","col-lg-4","col-md-6","col-12","mb-4"],[1,"cast-card","h-100"],[1,"cast-photo"],["onerror","this.src='/movie-discover-app/no-image.png'",1,"w-100",3,"src","alt"],[1,"cast-info","p-3"],[1,"cast-name","mb-1"],[1,"character-name","text-muted","mb-0"],[1,"text-muted"],[1,"text-center","mt-4"],[1,"btn","btn-outline-primary",3,"click"],["class","crew-departments",4,"ngIf"],[4,"ngIf"],[1,"crew-departments"],["class","department-section mb-4",4,"ngFor","ngForOf"],[1,"department-section","mb-4"],[1,"department-title","mb-3"],["class","col-xl-3 col-lg-4 col-md-6 col-12 mb-3",4,"ngFor","ngForOf"],[1,"col-xl-3","col-lg-4","col-md-6","col-12","mb-3"],[1,"crew-card","d-flex","align-items-center","p-3","bg-white","rounded"],["onerror","this.src='/movie-discover-app/no-image.png'",1,"crew-photo","me-3",3,"src","alt"],[1,"crew-name","mb-1"],[1,"crew-job","text-muted","mb-0"],[4,"ngIf","ngIfElse"],["class","review-card mb-4",4,"ngFor","ngForOf"],[1,"review-card","mb-4"],[1,"review-header","d-flex","align-items-center","mb-3"],[1,"reviewer-avatar","me-3"],["class","rounded-circle","onerror","this.src='/movie-discover-app/no-image.png'",3,"src","alt",4,"ngIf"],["class","avatar-placeholder rounded-circle d-flex align-items-center justify-content-center bg-secondary text-white",4,"ngIf"],[1,"flex-grow-1"],[1,"reviewer-name","mb-1"],[1,"review-meta","d-flex","align-items-center"],["class","badge bg-warning text-dark me-2",4,"ngIf"],[1,"review-content"],[3,"innerHTML"],["onerror","this.src='/movie-discover-app/no-image.png'",1,"rounded-circle",3,"src","alt"],[1,"avatar-placeholder","rounded-circle","d-flex","align-items-center","justify-content-center","bg-secondary","text-white"],[1,"badge","bg-warning","text-dark","me-2"],["class","videos-section mb-5",4,"ngIf","ngIfElse"],["class","images-section",4,"ngIf"],[1,"videos-section","mb-5"],["class","col-lg-6 col-12 mb-4",4,"ngFor","ngForOf"],["class","text-center mt-3",4,"ngIf"],[1,"col-lg-6","col-12","mb-4"],[1,"video-card"],[1,"ratio","ratio-16x9"],["frameborder","0","allow","accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture","allowfullscreen","",3,"src","title"],[1,"video-info","p-3"],[1,"video-title","mb-1"],[1,"text-center","mt-3"],[1,"images-section"],["class","col-lg-4 col-md-6 col-12 mb-4",4,"ngFor","ngForOf"],[1,"col-lg-4","col-md-6","col-12","mb-4"],[1,"image-card"],[1,"w-100","rounded","cursor-pointer",3,"click","src","alt"],[1,"similar-movies","py-5","bg-white"],[1,"row","mb-4"],[1,"col-12"],["class","text-center py-4",4,"ngIf"],["class","row",4,"ngIf"],[1,"text-center","py-4"],["role","status",1,"spinner-border","text-primary"],[1,"visually-hidden"],["class","col-xl-2 col-lg-3 col-md-4 col-sm-6 col-12 mb-4",3,"animation-delay",4,"ngFor","ngForOf"],[1,"col-xl-2","col-lg-3","col-md-4","col-sm-6","col-12","mb-4"],[1,"fade-in-up",3,"movie","showQuickActions"],[1,"loading-container","d-flex","align-items-center","justify-content-center","min-vh-100"],[1,"text-center"],["role","status",1,"spinner-border","text-primary","mb-3",2,"width","3rem","height","3rem"],[1,"error-container","d-flex","align-items-center","justify-content-center","min-vh-100"],[1,"text-warning",2,"font-size","4rem",3,"icon"],[1,"text-muted","mb-3"],[1,"text-muted","mb-4"],[1,"btn","btn-primary",3,"click"]],template:function(e,s){e&1&&d(0,pt,59,41,"div",3)(1,xt,7,0,"div",4)(2,ft,11,2,"div",5),e&2&&(l("ngIf",!s.loading&&!s.error&&s.movie),n(),l("ngIf",s.loading),n(),l("ngIf",s.error))},dependencies:[j,$,L,B,z,Q,H,_e],styles:[".movie-detail-container[_ngcontent-%COMP%]{min-height:100vh}.movie-hero[_ngcontent-%COMP%]{min-height:60vh;display:flex;align-items:center}.backdrop-container[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;overflow:hidden;z-index:-1}.backdrop-image[_ngcontent-%COMP%]{height:100%;object-fit:cover;filter:blur(2px)}.backdrop-overlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;background:linear-gradient(45deg,#000c,#0009,#000c)}.min-vh-50[_ngcontent-%COMP%]{min-height:50vh}.poster-container[_ngcontent-%COMP%]{text-align:center}.movie-poster[_ngcontent-%COMP%]{max-width:100%;max-height:500px;object-fit:cover}.movie-title[_ngcontent-%COMP%]{font-size:3rem;font-weight:700;text-shadow:2px 2px 4px rgba(0,0,0,.7)}.tagline[_ngcontent-%COMP%]{font-size:1.2rem;text-shadow:1px 1px 2px rgba(0,0,0,.7)}.movie-overview[_ngcontent-%COMP%]{text-shadow:1px 1px 2px rgba(0,0,0,.7);max-width:800px}.action-buttons[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{min-width:180px;transition:all .3s ease}.action-buttons[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 4px 8px #0000004d}.trailer-section[_ngcontent-%COMP%]{border-bottom:1px solid #333}.trailer-container[_ngcontent-%COMP%]{background:#000;border-radius:12px;overflow:hidden;box-shadow:0 8px 32px #0000004d}.movie-details-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:1rem;margin-bottom:2rem}.detail-item[_ngcontent-%COMP%]{padding:1rem;background:#fff;border-radius:8px;box-shadow:0 2px 4px #0000001a}.collection-poster[_ngcontent-%COMP%]{width:80px;height:120px;object-fit:cover;border-radius:6px}.company-logo[_ngcontent-%COMP%]{width:60px;height:60px;object-fit:contain;background:#fff;padding:4px;border-radius:4px}.nav-tabs[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{border:none;color:#6c757d;font-weight:500;padding:1rem 1.5rem;transition:all .3s ease}.nav-tabs[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]{color:#0d6efd;border-bottom:2px solid #0d6efd;background:none}.nav-tabs[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:hover{color:#0d6efd;border-color:transparent}.cast-card[_ngcontent-%COMP%]{background:#fff;border-radius:12px;overflow:hidden;box-shadow:0 2px 8px #0000001a;transition:transform .3s ease}.cast-card[_ngcontent-%COMP%]:hover{transform:translateY(-4px)}.cast-photo[_ngcontent-%COMP%]{aspect-ratio:2/3;overflow:hidden;background:#f8f9fa}.cast-photo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:100%;object-fit:cover}.cast-name[_ngcontent-%COMP%]{font-weight:600;color:#333}.character-name[_ngcontent-%COMP%]{font-size:.9rem}.crew-card[_ngcontent-%COMP%]{transition:transform .2s ease;border:1px solid #e9ecef}.crew-card[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 4px 12px #0000001a}.crew-photo[_ngcontent-%COMP%]{width:60px;height:60px;border-radius:50%;object-fit:cover}.department-title[_ngcontent-%COMP%]{color:#495057;border-bottom:2px solid #dee2e6;padding-bottom:.5rem}.review-card[_ngcontent-%COMP%]{background:#fff;border-radius:12px;padding:1.5rem;box-shadow:0 2px 8px #0000001a;border-left:4px solid #0d6efd}.reviewer-avatar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .avatar-placeholder[_ngcontent-%COMP%]{width:48px;height:48px}.avatar-placeholder[_ngcontent-%COMP%]{font-weight:600;font-size:.9rem}.review-content[_ngcontent-%COMP%]{line-height:1.6;color:#495057}.video-card[_ngcontent-%COMP%]{background:#fff;border-radius:12px;overflow:hidden;box-shadow:0 2px 8px #0000001a}.video-info[_ngcontent-%COMP%]{border-top:1px solid #e9ecef}.image-card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{transition:transform .3s ease}.image-card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]:hover{transform:scale(1.05)}.cursor-pointer[_ngcontent-%COMP%]{cursor:pointer}.similar-movies[_ngcontent-%COMP%]{border-top:1px solid #dee2e6}.fade-in-up[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeInUp .6s ease-out both}@keyframes _ngcontent-%COMP%_fadeInUp{0%{opacity:0;transform:translateY(30px)}to{opacity:1;transform:translateY(0)}}@media (max-width: 768px){.movie-title[_ngcontent-%COMP%]{font-size:2rem}.movie-hero[_ngcontent-%COMP%]{min-height:70vh;text-align:center}.action-buttons[_ngcontent-%COMP%]{justify-content:center}.action-buttons[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{min-width:160px;margin-bottom:.5rem}.movie-details-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}.nav-tabs[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{padding:.75rem 1rem;font-size:.9rem}}@media (max-width: 576px){.movie-poster[_ngcontent-%COMP%]{max-height:400px}.movie-title[_ngcontent-%COMP%]{font-size:1.75rem}.tagline[_ngcontent-%COMP%]{font-size:1rem}}.loading-container[_ngcontent-%COMP%], .error-container[_ngcontent-%COMP%]{min-height:100vh;background:#f8f9fa}.loading-container[_ngcontent-%COMP%]   .spinner-border[_ngcontent-%COMP%], .error-container[_ngcontent-%COMP%]   fa-icon[_ngcontent-%COMP%]{margin-bottom:1rem}"]})};export{ge as MovieDetailPage};
